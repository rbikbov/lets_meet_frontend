import{N as v,r as p,Q as w,R as u,U as _,B as t,H as g,ap as x,aq as U,ao as q,S as B,as as E,W as F,aH as N}from"./index.be0786c9.js";import{_ as A}from"./BaseFormWrapper.vue_vue_type_script_setup_true_lang.6a6f3307.js";import{_ as V,V as b}from"./VTextField.9c85025f.js";import{g as h}from"./VAvatar.75e0fa98.js";import{V as k}from"./VForm.bdcbbd54.js";import{u as R}from"./useMutation.esm.a2ac1e92.js";import"./VProgressCircular.6cfce55a.js";import"./VCard.8a782045.js";import"./index.5baaf378.js";function $(e,i="*"){const n=e.indexOf("@"),o=n*.2|0,a=n*.8|0;return[e.slice(0,o),e.slice(o,a).replace(/[A-Za-z0-9]/g,i),e.slice(a)].join("")}const C=q("br",null,null,-1),I=v({__name:"AuthSignupForm",props:{loading:{type:Boolean,default:!1}},emits:{submit:e=>e.email&&e.password&&e.password_confirmation?!0:(console.warn("Invalid submit event payload!"),!1)},setup(e,{emit:i}){const n=e,o=p(!1),a=p(""),r=p(""),c=p(""),y=()=>{n.loading||!o.value||i("submit",{email:a.value,password:r.value,password_confirmation:c.value})},f=m=>!!m||"Field is required",S=({fieldName:m,fieldValue:l})=>s=>l===s||`Field is not equal to ${m}`;return(m,l)=>(_(),w(A,null,{default:u(()=>[t(k,{modelValue:o.value,"onUpdate:modelValue":l[3]||(l[3]=s=>o.value=s),onSubmit:U(y,["prevent"])},{default:u(()=>[t(V,null,{default:u(({inputProps:s})=>[t(b,g(s,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=d=>a.value=d),readonly:e.loading,rules:[f],class:"mb-2",clearable:"",label:"Email",type:"email",autocomplete:"email"}),null,16,["modelValue","readonly","rules"])]),_:1}),t(V,null,{default:u(({inputProps:s})=>[t(b,g(s,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=d=>r.value=d),readonly:e.loading,rules:[f],clearable:"",label:"Password",type:"password",placeholder:"Enter your password",autocomplete:"password"}),null,16,["modelValue","readonly","rules"])]),_:1}),t(V,null,{default:u(({inputProps:s})=>[t(b,g(s,{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=d=>c.value=d),readonly:e.loading,rules:[f,S({fieldName:"password",fieldValue:r.value})],clearable:"",label:"Password confirm",type:"password",placeholder:"Enter your password again",autocomplete:"none"}),null,16,["modelValue","readonly","rules"])]),_:1}),C,t(h,{disabled:!o.value,loading:e.loading,block:"",color:"success",size:"large",type:"submit",variant:"elevated"},{default:u(()=>[x(" Register ")]),_:1},8,["disabled","loading"])]),_:1},8,["modelValue","onSubmit"])]),_:1}))}}),W=v({__name:"AuthSignup",setup(e){const i=E(),n=R(a=>N(a),{onSuccess:a=>{const r=$(a.data.user.email);i.push({name:F.authSignupThanks,query:{email:r}})}}),o=a=>{n.mutate(a)};return(a,r)=>(_(),w(I,{loading:B(n).isLoading.value,onSubmit:o},null,8,["loading"]))}});export{W as default};
