import{N as S,r as s,c as _,h as k,V as l,ao as a,aI as o,S as m,Q as I,aJ as p,M,U as r,as as V,W as y,aK as B}from"./index.be0786c9.js";import{u as N}from"./useMutation.esm.a2ac1e92.js";import{V as P}from"./VProgressCircular.6cfce55a.js";const w=S({__name:"AuthSignupConfirmation",props:{confirmationCode:null},setup(d){const f=d,v=V(),g="Email confirmation.",t=s(10),C=_(()=>`Seconds to redirect: ${t.value}`),i=s(""),n=s(!1),h=()=>(n.value=!0,new Promise(e=>{const c=setInterval(()=>{t.value--,t.value||(clearInterval(c),n.value=!1,e())},1e3)})),u=N(e=>B(e),{onSuccess:async e=>{i.value=e.data.message,await h(),v.push({name:y.authSignin,replace:!0})}});return k(()=>{u.mutate(f.confirmationCode)}),(e,c)=>(r(),l("div",null,[a("h1",null,o(g)),a("div",null,[m(u).isLoading?(r(),I(P,{key:0,indeterminate:""})):p("",!0),n.value?(r(),l(M,{key:1},[a("p",null,o(i.value),1),a("p",null,o(m(C)),1)],64)):p("",!0)])]))}});export{w as default};
