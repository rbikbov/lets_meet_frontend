import{a$ as V,r as k,b0 as m,N as P,O as v,aW as S,Q as f,R as s,U as u,B as n,ap as c,S as r,V as h,aY as x,M as L}from"./index.be0786c9.js";import{u as $,M as b}from"./keys.abfa1cc6.js";import{g as F}from"./fullName.61125800.js";import{u as p}from"./useMutation.esm.a2ac1e92.js";import{V as B}from"./VContainer.0d9e09c0.js";import{g as l}from"./VAvatar.75e0fa98.js";import{a as N,V as Q}from"./VRow.0910e68b.js";import{V as T}from"./VCard.8a782045.js";import"./VProgressCircular.6cfce55a.js";const d=V("meets",()=>{const t=k([]);function a(i){t.value=i}return{meets:t,setMeets:a}});function E(t){return m.api.v1MeetsList(t)}function R(t){return m.api.v1MeetsLikePersonCreate(String(t))}function q(t){return m.api.v1MeetsConfirmCreate(String(t))}const D=P({__name:"MeetsList",setup(t){const{meets:a}=v(d()),{setMeets:i}=d(),M=k({search:{age_min:0,age_max:99,gender:S.Male}}),_=$({queryKey:[b],queryFn:()=>E(M.value),onSuccess:e=>{i(e.data.users||[])}}),C=p({mutationFn:e=>R(e).then(()=>e),onSuccess:e=>{console.log(`likePerson(${e})`)}}),g=p({mutationFn:e=>q(e).then(()=>e),onSuccess:e=>{console.log(`confirmLikePerson(${e})`)}});return(e,w)=>(u(),f(B,{fluid:""},{default:s(()=>[n(l,{class:"mx-auto",color:"success",type:"button",variant:"elevated",onClick:r(_).refetch},{default:s(()=>[c(" Fetch meets ")]),_:1},8,["onClick"]),n(N,{dense:""},{default:s(()=>[(u(!0),h(L,null,x(r(a),o=>(u(),f(Q,{key:o.id,cols:"12"},{default:s(()=>[n(T,{title:r(F)(o),subtitle:`Meet id is ${o.id}`,text:`Meet likes = ${o.likes}`},{default:s(()=>[n(l,{type:"button",onClick:y=>r(C).mutate(o.id)},{default:s(()=>[c(" likePerson ")]),_:2},1032,["onClick"]),n(l,{type:"button",onClick:y=>r(g).mutate(o.id)},{default:s(()=>[c(" confirmLikePerson ")]),_:2},1032,["onClick"])]),_:2},1032,["title","subtitle","text"])]),_:2},1024))),128))]),_:1})]),_:1}))}});export{D as default};
